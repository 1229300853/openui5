<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Popover in SVG - sap.m</title>

	<script src="../../../resources/sap-ui-core.js"
			type="text/javascript"
			id="sap-ui-bootstrap"
			data-sap-ui-libs="sap.m"
			data-sap-ui-theme="sap_bluecrystal">
	</script>

    <style>
        svg {
            background: #dedede;
        }

        #divElement {
            position: absolute;
            top: 200px;
            left: 500px;
            width: 100px;
            height: 30px;
            background: coral;
        }
    </style>

	<script type="text/javascript">
		var oPopover = new sap.m.Popover("pop1", {
			placement: sap.m.PlacementType.Bottom,
			title: "Popover",
			showHeader: true,
//			beginButton: oBeginButton,
//			endButton: oEndButton,
			beforeOpen: function (oEvent) {
				jQuery.sap.log.info("before popover opens!!!");
			},
			afterOpen: function (oEvent) {
				jQuery.sap.log.info("popover is opened finally!!!");
			},
			beforeClose: function (oEvent) {
				jQuery.sap.log.info("before popover closes!!!");
			},
			afterClose: function (oEvent) {
				jQuery.sap.log.info("popover is closed properly!!!");
			},
//			footer: footer,
			content: [
				new sap.m.Input("focusInput", {placeholder: "Search"})
			]
		});

        function openPopover(target) {
            oPopover.openBy(target);
        }

	</script>
</head>
<body id="body" class="sapUiBody" role="application">
    <div id="divElement">
        div
    </div>

    <svg width="500" height="500">
        <rect id="rect1" width="100" height="30" x="200" y="300" stroke="black" stroke-width="1" style="fill:rgb(0,0,255)" />
    </svg>

    <ul>
        <li><a id="topEl" href="#">Top</a></li>
        <li><a id="right" href="#">Right</a></li>
        <li><a id="bottom" href="#">Bottom</a></li>
        <li><a id="left" href="#">Left</a></li>
    </ul>

    <script>
        var rect1 = document.getElementById("rect1");
        rect1.addEventListener('click', function (evt) {
            openPopover(rect1);
        });
        var topEl = document.getElementById("topEl");
        topEl.addEventListener('click', function (evt) {
            oPopover.setPlacement('Top');
            openPopover(rect1);
        });
        var right = document.getElementById("right");
        right.addEventListener('click', function (evt) {
            oPopover.setPlacement('Right');
						// oPopover.setOffsetX(-100);
            openPopover(rect1);
        });
        var bottom = document.getElementById("bottom");
        bottom.addEventListener('click', function (evt) {
            oPopover.setPlacement('Bottom');
            openPopover(rect1);
        });
        var left = document.getElementById("left");
        left.addEventListener('click', function (evt) {
            oPopover.setPlacement('Left');
						// oPopover.setOffsetX(100);
            openPopover(rect1);
        });
        var divElement = document.getElementById("divElement");
        divElement.addEventListener('click', function (evt) {
            openPopover(divElement);
        });
    </script>
</body>
</html>
